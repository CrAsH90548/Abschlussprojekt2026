{% load static %}

<!doctype html>
<html lang="de"> <head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>{% block title %}Auth{% endblock %} – Sensor-Dashboard</title>

  <style>
    /* ┌──────────────────────────────────────────────────────────────────────────┐
    │  CSS: FARBPALETTE & THEMING                                              │
    │  Wir nutzen CSS-Variablen (--name), um Farben zentral zu steuern.        │
    └──────────────────────────────────────────────────────────────────────────┘
    */
    :root {
      /* --- Helles Theme (Standard) --- */
      --bg:      #f3f4f6;  /* Seiten-Hintergrund (Hellgrau) */
      --card:    #ffffff;  /* Karten-Hintergrund (Weiß) */
      --text:    #111827;  /* Textfarbe (Fast Schwarz) */
      --muted:   #6b7280;  /* Nebentext (Mittelgrau) */
      
      /* --- Signalfarben --- */
      --primary: #2563eb;  /* Hauptfarbe (Kräftiges Blau) */
      --ok:      #059669;  /* Erfolg (Grün) */
      --warn:    #b45309;  /* Warnung (Dunkelorange) */
      --err:     #b91c1c;  /* Fehler (Dunkelrot) */
      
      /* --- UI Details --- */
      --border:  #e5e7eb;  /* Rahmenlinien */
      --shadow:  0 2px 10px rgba(0,0,0,.06); /* Leichter Schatten */
    }

    /* --- Dunkles Theme (wird per JS aktiviert) --- */
    [data-theme="dark"] {
      --bg:      #0f172a;  /* Hintergrund (Sehr dunkles Blau) */
      --card:    #111827;  /* Karte (Dunkelgrau) */
      --text:    #e5e7eb;  /* Text (Helles Grau) */
      --muted:   #94a3b8;  /* Nebentext (Graublau) */
      --border:  #1f2937;  /* Rahmen (Dunkel) */
      --primary: #60a5fa;  /* Hauptfarbe (Helleres Blau für Kontrast) */
      --shadow:  0 2px 10px rgba(0,0,0,.4); /* Stärkerer Schatten */
    }

    /* ┌──────────────────────────────────────────────────────────────────────────┐
    │  CSS: LAYOUT & STRUKTUR                                                  │
    │  Hier wird definiert, wie die Seite aufgebaut ist.                       │
    └──────────────────────────────────────────────────────────────────────────┘
    */
    
    /* Reset: Padding und Rahmen vergrößern Boxen nicht (wichtig!) */
    * { box-sizing: border-box; }

    /* Körper der Seite */
    body {
      margin: 0;              /* Keine Ränder außen */
      height: 100vh;          /* Volle Bildschirmhöhe nutzen */
      display: grid;          /* Grid-System aktivieren... */
      place-items: center;    /* ...um alles perfekt zu ZENTRIEREN */
      
      /* Moderne System-Schriftarten laden */
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      
      /* Farben anwenden */
      background: var(--bg);
      color: var(--text);
    }

    /* ┌──────────────────────────────────────────────────────────────────────────┐
    │  CSS: KOMPONENTEN (Karte, Felder, Buttons)                               │
    └──────────────────────────────────────────────────────────────────────────┘
    */

    /* Die weiße Box in der Mitte */
    .card {
      width: min(420px, 92vw);        /* Max 420px breit, aber auf Handys schmaler */
      background: var(--card);        /* Hintergrundfarbe */
      border: 1px solid var(--border);/* Dünner Rahmen */
      border-radius: 14px;            /* Abgerundete Ecken */
      padding: 20px;                  /* Abstand innen */
      box-shadow: var(--shadow);      /* Schattenwurf */
    }

    /* Überschriften */
    h1 {
      margin: 0 0 12px;               /* Abstand nur nach unten */
      font-size: 20px;                /* Größe */
    }

    /* Graue Hilfstexte */
    .muted {
      color: var(--muted);            /* Graue Farbe */
      font-size: 14px;                /* Kleiner */
      margin-bottom: 16px;            /* Abstand */
    }

    /* Container für Eingabefelder */
    .field { margin-bottom: 12px; }

    /* Labels über den Feldern */
    .field label {
      display: block;                 /* Neue Zeile */
      font-size: 14px;                /* Kleine Schrift */
      margin-bottom: 6px;             /* Abstand zum Input */
    }

    /* Das Eingabefeld selbst */
    .field input {
      width: 100%;                    /* Volle Breite */
      padding: 10px;                  /* Innenabstand */
      border: 1px solid var(--border);/* Rahmen */
      border-radius: 10px;            /* Runde Ecken */
      background: transparent;        /* Hintergrund durchsichtig */
      color: var(--text);             /* Textfarbe */
    }

    /* Container für Buttons */
    .actions {
      display: flex;                  /* Elemente nebeneinander */
      justify-content: space-between; /* Platz dazwischen verteilen */
      align-items: center;            /* Vertikal mittig */
      margin-top: 10px;               /* Abstand nach oben */
    }

    /* Standard Button */
    .btn {
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 10px;
      cursor: pointer;                /* Hand-Cursor bei Hover */
      box-shadow: var(--shadow);
    }

    /* Wichtiger Button (Blau) */
    .btn.primary {
      background: var(--primary);     /* Blaue Farbe */
      color: #fff;                    /* Weißer Text */
      border-color: transparent;      /* Kein Rahmen */
    }

    /* Links (Passwort vergessen etc.) */
    .links {
      margin-top: 14px;
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }

    /* Fehlermeldungen von Django */
    .errorlist {
      list-style: none;               /* Keine Punkte */
      margin: 4px 0;
      padding: 0;
      color: var(--err);              /* Rote Farbe */
      font-size: 14px;
    }

    /* Nachrichten-Boxen (Toasts) */
    .msg {
      margin-bottom: 10px;
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--card);
    }
  </style>
</head>

<body>

  <main class="card">
    
    {% if messages %}
      {% for message in messages %}
        <div class="msg">{{ message }}</div>
      {% endfor %}
    {% endif %}

    {% block content %}{% endblock %}
  
  </main>

  <script>
    try {
      // 1. Suche im Speicher nach "sd_theme". Wenn leer, nimm "light".
      const theme = localStorage.getItem("sd_theme") || "light";
      
      // 2. Setze das Attribut am HTML-Tag (damit CSS es sieht).
      document.documentElement.setAttribute("data-theme", theme);
    } catch {} // Fehler (z.B. Speicher voll/deaktiviert) ignorieren.
  </script>

</body>
</html>